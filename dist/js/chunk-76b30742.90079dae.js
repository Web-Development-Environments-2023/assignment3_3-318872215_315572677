(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76b30742"],{2413:function(e,t,r){},37906:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{attrs:{id:"background"}}),r("h1",{staticClass:"title"},[e._v("Search Page")]),r("form",{staticClass:"form-inline mb-10",on:{submit:function(t){return t.preventDefault(),e.Search(t)}}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"number_of_res"}},[e._v("Amount of results:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.formData.AmountOfResults,expression:"formData.AmountOfResults"}],staticClass:"form-control",attrs:{id:"Amount"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.formData,"AmountOfResults",t.target.multiple?r:r[0])}}},e._l(e.options.AmountOfResults,(function(t){return r("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"cuisine"}},[e._v("Cuisine:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.formData.cuisine,expression:"formData.cuisine"}],staticClass:"form-control",attrs:{id:"cuisine"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.formData,"cuisine",t.target.multiple?r:r[0])}}},e._l(e.options.cuisine,(function(t){return r("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"diet"}},[e._v("Diet:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.formData.diet,expression:"formData.diet"}],staticClass:"form-control",attrs:{id:"diet"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.formData,"diet",t.target.multiple?r:r[0])}}},e._l(e.options.diet,(function(t){return r("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"intolerance"}},[e._v("Intolerance:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.formData.intolerance,expression:"formData.intolerance"}],staticClass:"form-control",attrs:{id:"intolerance"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.formData,"intolerance",t.target.multiple?r:r[0])}}},e._l(e.options.intolerance,(function(t){return r("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"query"}},[e._v("Query to search:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.query,expression:"formData.query"}],staticClass:"form-control",attrs:{type:"search",placeholder:"Enter search query","aria-label":"Search",id:"query"},domProps:{value:e.formData.query},on:{input:function(t){t.target.composing||e.$set(e.formData,"query",t.target.value)}}})]),e.$root.store.username?r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"number_of_res"}},[e._v("Search URL: "+e._s(this.lastSearchUrl))])]):e._e(),r("div"),r("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Search")])]),r("div",{staticClass:"grid"},[r("ExternalRecipesGridCards",{attrs:{recipesArray:this.recipes}})],1)])},n=[],o=(r("4160"),r("159b"),r("2909")),i=(r("96cf"),r("1da1")),s=r("8a60"),c={components:{ExternalRecipesGridCards:s["a"]},name:"SearchPage",data:function(){return{formData:{query:"",cuisine:void 0,diet:void 0,intolerance:void 0,fillIngredients:!1,addRecipeInformation:!1,AmountOfResults:2},recipes:[],options:{cuisine:["","African","American","British","Cajun","Caribbean","Chinese","Eastern European","European","French","German","Greek","Indian","Irish","Italian","Japanese","Jewish","Korean","Latin American","Mediterranean","Mexican","Middle Eastern","Nordic","Southern","Spanish","Thai","Vietnamese"],diet:["","Gluten Free","Ketogenic","Vegetarian","Lacto-Vegetarian","Ovo-Vegetarian","Vegan","Pescetarian","Paleo","Primal","Whole30"],intolerance:["","Dairy","Egg","Gluten","Grain","Peanut","Seafood","Sesame","Shellfish","Soy","Sulfite","Tree Nut","Wheat"],AmountOfResults:[1,2,3,6,10,15],lastSearchUrl:""}}},mounted:function(){this.$root.store.username?this.$root.store.last_search(this.lastSearchUrl):(this.lastSearchUrl="",this.$root.store.search_url_="")},computed:{recipeLines:function(){var e=this,t=3,r=[],a=[];return this.recipes.forEach((function(n,o){a.push(n),a.length!==t&&o!==e.recipes.length-1||(r.push(a),a=[])})),console.log("recipeLines"),console.log(r),r}},methods:{getURLElement:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="",void 0!==e.formData.query&&""!==e.formData.query&&(r=r+"query="+e.formData.query),""!==e.formData.AmountOfResults&&(r=r+" AmountOfResults="+e.formData.AmountOfResults),void 0!==e.formData.cuisine&&""!==e.formData.cuisine&&(r=r+" cuisine="+e.formData.cuisine),void 0!==e.formData.diet&&""!==e.formData.diet&&(r=r+" diet="+e.formData.diet),void 0!==e.formData.intolerance&&""!==e.formData.intolerance&&(r=r+" intolerance="+e.formData.intolerance),console.log(r),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})))()},Search:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.recipes=[],t.next=4,e.axios.post(e.$root.store.server_domain+"/recipes/search",{query:e.formData.query,number:e.formData.AmountOfResults,cuisine:e.formData.cuisine,diet:e.formData.diet,intolerance:e.formData.intolerance,fillIngredients:e.formData.fillIngredients,addRecipeInformation:e.formData.addRecipeInformation},{withCredentials:!0});case 4:return a=t.sent,(r=e.recipes).push.apply(r,Object(o["a"])(a.data)),t.next=8,e.getURLElement();case 8:e.lastSearchUrl=t.sent,e.$root.store.username?e.$root.store.last_search(e.lastSearchUrl):(e.lastSearchUrl="",e.$root.store.search_url_=""),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()}}},l=c,u=(r("fb3f"),r("2877")),m=Object(u["a"])(l,a,n,!1,null,null,null);t["default"]=m.exports},"8a60":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"external-recipes-grid-cards",staticStyle:{width:"80rem"}},e._l(e.recipeLines,(function(t,a){return r("b-row",{key:a,staticClass:"recipe-line"},e._l(t,(function(e){return r("b-col",{key:e.id},[r("br"),r("RecipePreview",{staticClass:"recipePreview",attrs:{recipe:e}})],1)})),1)})),1)},n=[],o=(r("4160"),r("159b"),r("832a")),i={name:"ExternalRecipesGridCards",components:{RecipePreview:o["a"]},props:{recipesArray:{type:Array,required:!0}},computed:{recipeLines:function(){var e=this,t=3,r=[],a=[];return this.recipesArray.forEach((function(n,o){a.push(n),a.length!==t&&o!==e.recipesArray.length-1||(r.push(a),a=[])})),console.log("recipeLines"),console.log(r),r}}},s=i,c=r("2877"),l=Object(c["a"])(s,a,n,!1,null,"63037a82",null);t["a"]=l.exports},fb3f:function(e,t,r){"use strict";var a=r("2413"),n=r.n(a);n.a}}]);
//# sourceMappingURL=chunk-76b30742.90079dae.js.map